#!/usr/bin/env nu

# ./cli ..

def help [] {
  $'
test manual
  '
  | str trim
}

def main [
  -h
  ...args: string
] {
  if $h {
    help | less --RAW-CONTROL-CHARS
    return
  }

  echo ...$args
}

def 'main t' [...args: string] {
  bun run test ...$args
}

def 'main t watch' [...args: string] {
  bun run test --watch ...$args
}

def 'main t manual reset' [] {
  cp src/__tests__/fixtures/bitwarden.json data/bitwarden.json
}

def 'main t manual' [] {
  ./cli convert bitwarden-to-apple data/bitwarden.json data/output.csv 
}